const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-B9DOk5Wn.js","assets/router-BfLf48VO.js","assets/react-vendor-DdXWdMVC.js","assets/QuienesSomos-BuFD89uH.js","assets/Contactanos-CC8yrOur.js","assets/AddVehicle-DkATWSm-.js","assets/price-pxaQBo84.js","assets/Inventory-CY8QUTPX.js","assets/Inventory-D-yaCdot.css","assets/PossiblePurchases-BhQdDKbT.js","assets/Login-CdNUL2cB.js"])))=>i.map(i=>d[i]);
import{r as M,a as $}from"./react-vendor-DdXWdMVC.js";import{r as u,u as z,N as v,R as J,a as x,b as K,c as U,B as F}from"./router-BfLf48VO.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(a){if(a.ep)return;a.ep=!0;const r=i(a);fetch(a.href,r)}})();var P={exports:{}},_={};var k;function B(){if(k)return _;k=1;var s=M(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function d(m,g,p){var l,t={},n=null,f=null;p!==void 0&&(n=""+p),g.key!==void 0&&(n=""+g.key),g.ref!==void 0&&(f=g.ref);for(l in g)c.call(g,l)&&!r.hasOwnProperty(l)&&(t[l]=g[l]);if(m&&m.defaultProps)for(l in g=m.defaultProps,g)t[l]===void 0&&(t[l]=g[l]);return{$$typeof:o,type:m,key:n,ref:f,props:t,_owner:a.current}}return _.Fragment=i,_.jsx=d,_.jsxs=d,_}var C;function W(){return C||(C=1,P.exports=B()),P.exports}var e=W(),b={},O;function Y(){if(O)return b;O=1;var s=$();return b.createRoot=s.createRoot,b.hydrateRoot=s.hydrateRoot,b}var G=Y();const Q="modulepreload",X=function(s){return"/vehiculos/"+s},w={},j=function(o,i,c){let a=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(l=>Promise.resolve(l).then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(i.map(p=>{if(p=X(p),p in w)return;w[p]=!0;const l=p.endsWith(".css"),t=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${t}`))return;const n=document.createElement("link");if(n.rel=l?"stylesheet":Q,l||(n.as="script"),n.crossOrigin="",n.href=p,m&&n.setAttribute("nonce",m),document.head.appendChild(n),l)return new Promise((f,h)=>{n.addEventListener("load",f),n.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${p}`)))})}))}function r(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&r(m.reason);return o().catch(r)})};function Z({isDark:s,toggleTheme:o}){return e.jsx("button",{className:"theme-toggle",onClick:o,"aria-label":"Cambiar tema",children:s?"â˜€ï¸":"ðŸŒ™"})}const E={VEHICLES:"venta_de_vehiculos",THEME:"theme",AUTH:"venta_de_vehiculo_admin"},q=u.createContext(null),R=E.AUTH;function ee({children:s}){const[o,i]=u.useState(()=>{try{return localStorage.getItem(R)==="true"}catch{return!1}}),r={isAuthenticated:o,login:({username:d,password:m})=>{if(d==="admin"&&m==="admin"){i(!0);try{localStorage.setItem(R,"true")}catch{}return{ok:!0}}return{ok:!1,message:"Credenciales invÃ¡lidas"}},logout:()=>{i(!1);try{localStorage.removeItem(R)}catch{}}};return e.jsx(q.Provider,{value:r,children:s})}function D(){const s=u.useContext(q);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}function te({isDark:s,toggleTheme:o}){const{isAuthenticated:i,logout:c}=D(),a=z();return e.jsx("header",{className:"nav-bottom",role:"banner",children:e.jsxs("div",{className:"nav-inner",children:[e.jsxs("nav",{className:"nav-links","aria-label":"MenÃº principal",children:[e.jsx(v,{to:"/",end:!0,className:({isActive:r})=>r?"active":"",children:"Inicio"}),e.jsx(v,{to:"/quienes",className:({isActive:r})=>r?"active":"",children:"QuiÃ©nes somos"}),e.jsx(v,{to:"/contacto",className:({isActive:r})=>r?"active":"",children:"ContÃ¡ctanos"}),i&&e.jsxs(e.Fragment,{children:[e.jsx(v,{to:"/agregar",className:({isActive:r})=>r?"active":"",children:"Agregar vehÃ­culo"}),e.jsx(v,{to:"/inventario",className:({isActive:r})=>r?"active":"",children:"Inventario"}),e.jsx(v,{to:"/posibles",className:({isActive:r})=>r?"active":"",children:"Posibles"})]})]}),e.jsxs("div",{className:"nav-actions",children:[e.jsx(Z,{isDark:s,toggleTheme:o}),i?e.jsx("button",{className:"btn ghost",onClick:()=>{c(),a("/")},children:"Cerrar sesiÃ³n"}):null]}),!i&&e.jsx("nav",{className:"nav-links","aria-label":"Admin",children:e.jsx(v,{to:"/login",className:({isActive:r})=>r?"active":"",children:"Admin"})})]})})}function re(){return e.jsx("footer",{className:"site-footer",role:"contentinfo",children:e.jsx("div",{className:"footer-inner",children:e.jsx("div",{className:"footer-bottom",style:{justifyContent:"center"},children:e.jsx("small",{children:"Â© 2025 CÃ­rculo Automotriz. Todos los derechos reservados."})})})})}const se=u.lazy(()=>j(()=>import("./Home-B9DOk5Wn.js"),__vite__mapDeps([0,1,2]))),ne=u.lazy(()=>j(()=>import("./QuienesSomos-BuFD89uH.js"),__vite__mapDeps([3,1,2]))),oe=u.lazy(()=>j(()=>import("./Contactanos-CC8yrOur.js"),__vite__mapDeps([4,1,2]))),ie=u.lazy(()=>j(()=>import("./AddVehicle-DkATWSm-.js"),__vite__mapDeps([5,1,2,6]))),ae=u.lazy(()=>j(()=>import("./Inventory-CY8QUTPX.js"),__vite__mapDeps([7,1,2,6,8]))),ce=u.lazy(()=>j(()=>import("./PossiblePurchases-BhQdDKbT.js"),__vite__mapDeps([9,1,2]))),le=u.lazy(()=>j(()=>import("./Login-CdNUL2cB.js"),__vite__mapDeps([10,1,2])));function ue(){const[s,o]=u.useState(()=>{const c=localStorage.getItem(E.THEME);return c?c==="dark":!1});u.useEffect(()=>{document.documentElement.setAttribute("data-theme",s?"dark":"light"),localStorage.setItem(E.THEME,s?"dark":"light")},[s]);const i=()=>o(c=>!c);return e.jsxs("div",{className:"app",children:[e.jsx(te,{isDark:s,toggleTheme:i}),e.jsx(u.Suspense,{fallback:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",color:"var(--muted)"},children:e.jsx("div",{children:"Cargando..."})}),children:e.jsxs(J,{children:[e.jsx(x,{path:"/",element:e.jsx(se,{})}),e.jsx(x,{path:"/quienes",element:e.jsx(ne,{})}),e.jsx(x,{path:"/contacto",element:e.jsx(oe,{})}),e.jsx(x,{path:"/login",element:e.jsx(le,{})}),e.jsx(x,{path:"/agregar",element:e.jsx(I,{children:e.jsx(ie,{})})}),e.jsx(x,{path:"/inventario",element:e.jsx(I,{children:e.jsx(ae,{})})}),e.jsx(x,{path:"/posibles",element:e.jsx(I,{children:e.jsx(ce,{})})})]})}),e.jsx(re,{})]})}function I({children:s}){const{isAuthenticated:o}=D();return o?s:e.jsx(K,{to:"/login",replace:!0})}const y=s=>`/vehiculos/img/${s}`,S=s=>s.map(o=>{if(o.img&&o.img.includes("src/components/img")){const i=o.img.split("/").pop();o.img=y(i)}return o.gallery&&Array.isArray(o.gallery)&&(o.gallery=o.gallery.map(i=>{if(i.includes("src/components/img")){const c=i.split("/").pop();return y(c)}return i})),o}),T=y("kia.jpg"),de=y("kia2.jpg"),L=y("subaru.jpg"),me=y("subaru2.jpg"),V=y("hyundai.jpg"),he=y("hiundai2.jpg"),N=[{id:1,marca:"Kia",modelo:"K3",title:"Kia K3",desc:"Confort y eficiencia.",year:2024,km:"12.000 km",price:"$12.990.000",status:"disponible",img:T,gallery:[T,de]},{id:2,marca:"Subaru",modelo:"WRX",title:"Subaru WRX",desc:"Rendimiento deportivo y tracciÃ³n.",year:2023,km:"30.500 km",price:"$18.450.000",status:"disponible",img:L,gallery:[L,me]},{id:3,marca:"Hyundai",modelo:"i30 Fastback",title:"Hyundai i30 Fastback",desc:"DiseÃ±o dinÃ¡mico y versatilidad.",year:2022,km:"22.100 km",price:"$14.200.000",status:"disponible",img:V,gallery:[V,he]}],H=u.createContext(null);function fe({children:s}){const o=E.VEHICLES,[i,c]=u.useState(()=>{try{const t=localStorage.getItem(o);if(!t)return N;const n=JSON.parse(t);return Array.isArray(n)?S(n):n&&Array.isArray(n.vehicles)?S(n.vehicles):N}catch{return N}}),[a,r]=u.useState(()=>{try{const t=localStorage.getItem(o);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?[]:n&&Array.isArray(n.possiblePurchases)?S(n.possiblePurchases):[]}catch{return[]}});u.useEffect(()=>{try{const t={vehicles:i,possiblePurchases:a};localStorage.setItem(o,JSON.stringify(t))}catch(t){console.warn("No se pudo guardar inventario en localStorage",t)}},[i,a]);const l={vehicles:i,addVehicle:t=>{const n=i.length?Math.max(...i.map(f=>f.id))+1:1;c(f=>[...f,{id:n,status:"disponible",...t}])},toggleAvailability:t=>{c(n=>n.map(f=>f.id===t?{...f,status:f.status==="vendido"?"disponible":"vendido"}:f))},possiblePurchases:a,markPossiblePurchase:t=>{const n=i.find(h=>h.id===t);if(!n)return;if(a.some(h=>h.id===t)){console.warn("Vehicle already in possible purchases:",t);return}c(h=>h.filter(A=>A.id!==t)),r(h=>[...h,n])},unmarkPossiblePurchase:t=>{const n=a.find(h=>h.id===t);if(!n)return;if(i.some(h=>h.id===t)){console.warn("Vehicle already in inventory:",t);return}r(h=>h.filter(A=>A.id!==t)),c(h=>[...h,n])}};return e.jsx(H.Provider,{value:l,children:s})}function ye(){const s=u.useContext(H);if(!s)throw new Error("useVehicles must be used within VehiclesProvider");return s}G.createRoot(document.getElementById("root")).render(e.jsx(U.StrictMode,{children:e.jsx(F,{basename:"/vehiculos",children:e.jsx(ee,{children:e.jsx(fe,{children:e.jsx(ue,{})})})})}));export{D as a,y as g,e as j,ye as u};
